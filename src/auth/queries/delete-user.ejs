<%
/**
 * 
 * ----
 * 
 * ### `/src/...`
 * 
 * @name `unnamed template`
 * @type [EJS template]
 * @has 
 * @uses 
 * @modifies 
 * @receives 
 * @returns 
 * @throws 
 * @description 
 * 
 */


cms.utils.trace("cms.auth.queries.deleteUser");
const user_id = sqlString.escape(parameters.user_id)
const previousDeletions = [
	["sessions", "id_user"],
	["combo_user_and_group", "id_user"],
	["combo_user_and_permission", "id_user"]
]
for(let index=0; index < previousDeletions.length; index++) {
	const [tableBrute, columnBrute] = previousDeletions[index];
	const table = sqlString.escapeId(tableBrute);
	const column = sqlString.escapeId(columnBrute);
%>
DELETE FROM <%-table%>
  WHERE <%-table%>.<%-column%> = <%-sqlString.escape(user_id)%>;
<%
/**
 * 
 * ----
 * 
 * ### `/src/...`
 * 
 * @name `unnamed template`
 * @type [EJS template]
 * @has 
 * @uses 
 * @modifies 
 * @receives 
 * @returns 
 * @throws 
 * @description 
 * 
 */

}
%>
DELETE FROM users WHERE users.id = <%-sqlString.escape(user_id)%>;