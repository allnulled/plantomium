<%
/**
 * 
 * ----
 * 
 * ### `/src/...`
 * 
 * @name `unnamed template`
 * @type [EJS template]
 * @has 
 * @uses 
 * @modifies 
 * @receives 
 * @returns 
 * @throws 
 * @description 
 * 
 */

const table = sqlString.escapeId(actorClass.Table);
const {
  fields = undefined,
  where = undefined,
  join = undefined,
  limit = 20,
  sort = undefined,
  page = 1,
} = parameters.input;
const ids = [].concat(parameters.all.result).map(item => item[actorClass.Table + ".id"]);
const fieldsFinal = cms.utils.toSelectFieldsSql(undefined, actorClass.Table, true, false);
const whereFinal = cms.utils.toSelectWhereSql(where, false, actorClass.Table, true);
const joinFinal = cms.utils.toSelectJoinSql(join, actorClass.Table);
const orderFinal = cms.utils.toSelectOrderSql(sort, actorClass.Table);
const limitFinal = cms.utils.toSelectLimitSql(limit, actorClass.Table);
const offsetFinal = cms.utils.toSelectOffsetSql(limit, page, actorClass.Table);
%>
# select attachments:
SELECT
  <%-fieldsFinal%>
  FROM <%-table%>
<%-joinFinal%>  WHERE <%-table%>.<%-sqlString.escapeId("id")%> IN (<%-sqlString.escape(ids)%>)
;